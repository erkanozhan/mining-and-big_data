<svg width="1000" height="700" viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg" 
     font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif">
    
    <!-- ========== TANIMLAMALAR VE STİLLER ========== -->
    <defs>
        <!-- Ok işareti tanımı -->
        <marker id="arrow-end" viewBox="0 0 10 10" refX="8" refY="5" 
                markerWidth="6" markerHeight="6" orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#4b5563"/>
        </marker>
        
        <!-- Arka plan gradyanı -->
        <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#f0f9ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#f9fafb;stop-opacity:1" />
        </linearGradient>
        
        <!-- Gölge efekti -->
        <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
            <feOffset dx="0" dy="2" result="offsetblur"/>
            <feFlood flood-color="#000000" flood-opacity="0.1"/>
            <feComposite in2="offsetblur" operator="in"/>
            <feMerge>
                <feMergeNode/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>
        </filter>
        
        <!-- CSS Stilleri -->
        <style>
            .title { 
                font-size: 20px; 
                font-weight: 600; 
                fill: #111827; 
            }
            .subtitle { 
                font-size: 14px; 
                fill: #6b7280; 
            }
            .box { 
                fill: #ffffff; 
                stroke: #d1d5db; 
                stroke-width: 1.5; 
                rx: 8;
                filter: url(#shadow);
            }
            .flow-label { 
                font-size: 16px; 
                font-weight: 600; 
                fill: #374151;
            }
            .flow-desc { 
                font-size: 14px; 
                fill: #6b7280; 
            }
            .flow-circle-bg { 
                fill: #2563eb; 
            }
            .flow-circle-text { 
                fill: #ffffff; 
                font-size: 14px; 
                font-weight: bold; 
                text-anchor: middle; 
                dominant-baseline: central; 
            }
            .connection-point {
                fill: #2563eb;
                stroke: #ffffff;
                stroke-width: 2;
            }
            .flow-path {
                fill: none;
                stroke: #4b5563;
                stroke-width: 2;
            }
            .flow-path-animated {
                stroke-dasharray: 5, 3;
                animation: flow 2s linear infinite;
            }
            @keyframes flow {
                0% { stroke-dashoffset: 8; }
                100% { stroke-dashoffset: 0; }
            }
        </style>
    </defs>
    
    <!-- ========== ARKA PLAN ========== -->
    <rect width="100%" height="100%" fill="url(#bgGradient)"/>
    
    <!-- ========== ANA BAŞLIK ========== -->
    <text x="500" y="50" font-size="28" font-weight="bold" text-anchor="middle" fill="#1f2937">
        Hadoop Mimarisi ve Veri Akışı
    </text>
    
    <!-- ========== HADOOP KÜMESİ KONTEYNER ========== -->
    <rect x="250" y="100" width="400" height="550" rx="12" 
          fill="#f3f4f6" stroke="#e5e7eb" stroke-width="2" opacity="0.95"/>
    <text x="450" y="130" font-size="18" font-weight="500" text-anchor="middle" fill="#374151">
        HADOOP KÜMESİ (CLUSTER)
    </text>
    
    <!-- ========== BİLEŞENLER ========== -->
    
    <!-- 1. İŞLEME KATMANI (Processing Layer) -->
    <g transform="translate(280, 160)">
        <rect class="box" width="340" height="120"/>
        
        <!-- İşleme ikonu - dişli çark -->
        <g transform="translate(35, 60)">
            <circle cx="0" cy="0" r="18" fill="none" stroke="#10b981" stroke-width="3"/>
            <circle cx="0" cy="0" r="10" fill="none" stroke="#10b981" stroke-width="2"/>
            <!-- Dişli çizgileri -->
            <g stroke="#10b981" stroke-width="2" stroke-linecap="round">
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(0)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(45)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(90)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(135)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(180)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(225)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(270)"/>
                <line x1="0" y1="-18" x2="0" y2="-14" transform="rotate(315)"/>
            </g>
        </g>
        
        <text class="title" x="85" y="45">İşleme Katmanı</text>
        <text class="subtitle" x="85" y="70">Processing Frameworks</text>
        <text class="subtitle" x="85" y="90">MapReduce, Spark, Flink vb.</text>
        
        <!-- Bağlantı noktaları -->
        <circle cx="170" cy="120" r="5" class="connection-point"/>
        <circle cx="340" cy="60" r="5" class="connection-point"/>
    </g>
    
    <!-- 2. KAYNAK YÖNETİMİ (YARN) -->
    <g transform="translate(280, 315)">
        <rect class="box" width="340" height="120"/>
        
        <!-- Kaynak yönetimi ikonu - grid -->
        <g transform="translate(35, 60)">
            <rect x="-15" y="-15" width="12" height="12" fill="#f59e0b" opacity="0.8"/>
            <rect x="3" y="-15" width="12" height="12" fill="#f59e0b" opacity="0.6"/>
            <rect x="-15" y="3" width="12" height="12" fill="#f59e0b" opacity="0.6"/>
            <rect x="3" y="3" width="12" height="12" fill="#f59e0b" opacity="0.8"/>
        </g>
        
        <text class="title" x="85" y="45">Kaynak Yönetimi</text>
        <text class="subtitle" x="85" y="70">YARN (Resource Negotiator)</text>
        <text class="subtitle" x="85" y="90">Küme kaynaklarını ve görevleri yönetir</text>
        
        <!-- Bağlantı noktaları -->
        <circle cx="0" cy="60" r="5" class="connection-point"/>
        <circle cx="170" cy="0" r="5" class="connection-point"/>
        <circle cx="170" cy="120" r="5" class="connection-point"/>
        <circle cx="340" cy="60" r="5" class="connection-point"/>
    </g>
    
    <!-- 3. DEPOLAMA KATMANI (HDFS) -->
    <g transform="translate(280, 470)">
        <rect class="box" width="340" height="120"/>
        
        <!-- Depolama ikonu - veritabanı/diskler -->
        <g transform="translate(35, 60)">
            <rect x="-15" y="-10" width="30" height="8" rx="2" fill="#3b82f6"/>
            <rect x="-15" y="2" width="30" height="8" rx="2" fill="#3b82f6" opacity="0.8"/>
            <rect x="-15" y="14" width="30" height="8" rx="2" fill="#3b82f6" opacity="0.6"/>
        </g>
        
        <text class="title" x="85" y="45">Depolama Katmanı</text>
        <text class="subtitle" x="85" y="70">HDFS (Distributed File System)</text>
        <text class="subtitle" x="85" y="90">Veriyi dağıtılmış olarak depolar</text>
        
        <!-- Bağlantı noktaları -->
        <circle cx="170" cy="0" r="5" class="connection-point"/>
        <circle cx="340" cy="60" r="5" class="connection-point"/>
    </g>
    
    <!-- ========== KULLANICI/İSTEMCİ ========== -->
    <g transform="translate(50, 315)">
        <rect class="box" width="150" height="120"/>
        
        <!-- Kullanıcı ikonu -->
        <g transform="translate(45, 55)">
            <circle cx="0" cy="0" r="14" fill="#818cf8"/>
            <path d="M -18,25 Q 0,15 18,25 L 18,40 L -18,40 Z" fill="#818cf8"/>
        </g>
        
        <text class="title" x="75" y="45" font-size="16">Kullanıcı</text>
        <text class="subtitle" x="75" y="68">İstemci</text>
        <text class="subtitle" x="75" y="88">Uygulamalar</text>
        
        <!-- Bağlantı noktası -->
        <circle cx="150" cy="60" r="5" class="connection-point"/>
    </g>
    
    <!-- ========== VERİ AKIŞ OKLARI (DÜZGÜN YÖNLENDIRME) ========== -->
    
    <!-- Ok 1: Kullanıcıdan YARN'a -->
    <path d="M 200 375 L 280 375" 
          class="flow-path flow-path-animated"
          marker-end="url(#arrow-end)"/>
    
    <!-- Ok 2: YARN'dan İşleme Katmanına (üstten dolanarak) -->
    <path d="M 450 315 L 450 290 Q 450 280, 450 280 L 450 280"
          class="flow-path"
          marker-end="url(#arrow-end)"/>
    
    <!-- Ok 3: İşleme ile HDFS arasında (sağdan dolanarak - çift yönlü) -->
    <!-- Aşağı yön -->
    <path d="M 620 220 L 640 220 Q 660 220, 660 240 L 660 510 Q 660 530, 640 530 L 620 530"
          class="flow-path"
          marker-end="url(#arrow-end)"/>
    
    <!-- Yukarı yön -->
    <path d="M 620 530 L 680 530 Q 700 530, 700 510 L 700 240 Q 700 220, 680 220 L 620 220"
          class="flow-path"
          marker-end="url(#arrow-end)"/>
    
    <!-- ========== AKIŞ NUMARALARI ========== -->
    <!-- Numara 1 -->
    <g transform="translate(240, 375)">
        <circle r="14" class="flow-circle-bg"/>
        <text class="flow-circle-text">1</text>
    </g>
    
    <!-- Numara 2 -->
    <g transform="translate(450, 297)">
        <circle r="14" class="flow-circle-bg"/>
        <text class="flow-circle-text">2</text>
    </g>
    
    <!-- Numara 3 (sağda) -->
    <g transform="translate(680, 375)">
        <circle r="14" class="flow-circle-bg"/>
        <text class="flow-circle-text">3</text>
    </g>
    
    <!-- ========== AKIŞ ADIMLARI AÇIKLAMALARI ========== -->
    <g transform="translate(720, 260)">
        <rect x="-10" y="-10" width="270" height="250" fill="#ffffff" stroke="#e5e7eb" rx="8" opacity="0.95"/>
        <text font-size="20" font-weight="600" fill="#111827" x="10" y="20">Veri Akış Adımları</text>
        
        <!-- Adım 1 -->
        <g transform="translate(10, 50)">
            <circle r="14" class="flow-circle-bg"/>
            <text class="flow-circle-text">1</text>
            <text class="flow-label" x="30" y="5">İş Gönderimi</text>
            <text class="flow-desc" x="30" y="25">Kullanıcı, işleme görevini</text>
            <text class="flow-desc" x="30" y="42">YARN'a gönderir</text>
        </g>
        
        <!-- Adım 2 -->
        <g transform="translate(10, 120)">
            <circle r="14" class="flow-circle-bg"/>
            <text class="flow-circle-text">2</text>
            <text class="flow-label" x="30" y="5">Kaynak Tahsisi</text>
            <text class="flow-desc" x="30" y="25">YARN, kaynakları planlar ve</text>
            <text class="flow-desc" x="30" y="42">görevi İşleme Katmanına atar</text>
        </g>
        
        <!-- Adım 3 -->
        <g transform="translate(10, 190)">
            <circle r="14" class="flow-circle-bg"/>
            <text class="flow-circle-text">3</text>
            <text class="flow-label" x="30" y="5">Veri İşleme</text>
            <text class="flow-desc" x="30" y="25">İşleme motoru HDFS'ten veri okur,</text>
            <text class="flow-desc" x="30" y="42">işler ve sonuçları HDFS'e yazar</text>
        </g>
    </g>
    
    <!-- ========== ALT BİLGİ ========== -->
    <text x="500" y="680" font-size="12" text-anchor="middle" fill="#9ca3af">
        Apache Hadoop - Büyük Veri İşleme Platformu
    </text>
</svg>